(function(){'use strict';function e(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e instanceof Function?e(...n):e}function t(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let t of n)if(e===t)return!0;return!1}function n(e,t){for(let n of Object.keys(t))e.hasOwnProperty(n)||(e[n]=t[n]);return e}function r(e,t,n){void 0===n&&(n=(e,t)=>e.concat(t));for(let o of Object.keys(t))o in e&&Array.isArray(e[o])&&Array.isArray(t[o])?e[o]=n(e[o],t[o]):o in e&&e[o]instanceof Object&&t[o]instanceof Object?r(e[o],t[o]):e[o]=t[o]}function i(e,t,n){return void 0===t&&(t=-Infinity),void 0===n&&(n=1/0),Math.min(n,Math.max(t,e))}function o(e){return e*e}function s(e,n){return void 0===n&&(n=0),n?setTimeout(e,n):void e()}function a(){let e,t;const n=new Promise((n,r)=>{e=n,t=r});return n.catch(function(e){return e}),{promise:n,resolve:e,reject:t}}function l(e,n){void 0===n&&(n=0);let r=!1,i=!1;return function(){for(var t=arguments.length,o=Array(t),s=0;s<t;s++)o[s]=arguments[s];r?i=!0:(e.apply(null,o),r=!0,setTimeout(function(){i&&e(...o),r=!1,i=!1},n))}}function d(t,n,r){if(!r.length)return e(t,...n);let o=r.slice(0),s=o.shift(),a=[];for(let e=0;e<s;++e)a.push(d(t,n.concat([e]),o));return a}function c(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return d(e,[],n)}function p(e){return e.length?+e.reduce((e,t)=>e+(+t||0)):0}function h(e){return e.filter((e,t,n)=>n.indexOf(e)==t)}function y(e,t){return e.filter(e=>e!==t)}function g(e){return e.reduce((e,t)=>e.concat(Array.isArray(t)?g(t):t),[])}function u(e){const t=e.map(e=>({val:e,next:null})),r=t.length;for(let n=0;n<r;++n)t[n].next=t[(n+1)%r];return t}function f(e,t){return t.lowercase&&(e=e.toLowerCase()),e.split(t.split).map(t=>t.trim())}function m(e){return e?e.trim().split(/\s+/):[]}function x(e){return e.toLowerCase().replace(/^-/,"").replace(/-(.)/g,(e,t)=>t.toUpperCase())}function _(e,t){void 0===t&&(t=1);let r=e;for(let n=1;n<t;++n)r+=e;return r}function v(e){return e instanceof String||"string"==typeof e}function k(e){const t=[];for(let n of Object.keys(e)){let r=e[n];if(n=encodeURIComponent(n),null==r)return void t.push(n);r=Array.isArray(r)?r.join(","):""+r,r=r.replace(/(\r)?\n/g,"\r\n"),r=encodeURIComponent(r),r=r.replace(/%20/g,"+"),t.push(n+"="+r)}return t.join("&")}function b(e,t){void 0===t&&(t=null);const n={method:"POST",body:t?v(t)?t:k(t):void 0,headers:{"Content-Type":"application/x-www-form-urlencoded","X-CSRF-Token":window.csrfToken||""}};return fetch(e,n).then(e=>e.text())}function w(e,t){Te.has(e)?r(Te.get(e),t,(e,t)=>h(e.concat(t))):Te.set(e,t)}function T(){if(!1!==navigator.onLine)for(const e of Te){const t=e[0],n=e[1];Te.delete(t),b(t,{data:JSON.stringify(n)}).catch(()=>w(t,n))}}function L(e,n,r){return void 0===r&&(r=Ce),!(isNaN(e)||isNaN(n))&&Math.abs(e-n)<r}function C(e,n,r,i){if(void 0===i&&(i=Ce),n>r){var o=[r,n];n=o[0],r=o[1]}return e>n+i&&e<r-i}function A(e,t){return void 0===t&&(t=1),Math.round(e/t)*t}function E(e){if(1===e.length)return[[],e];let t=e.pop(),n=E(e),r=[];for(let i of n){let e=i.slice(0);e.push(t),r.push(i,e)}return r}function P(e,t){void 0===t&&(t=0);let n=e.slice(0),r=E(n);return t&&(r=r.filter(e=>e.length===t)),r}function S(e,t){void 0===t&&(t=Ee);const n=Math.atan2(e.y-t.y,e.x-t.x);return(n+Pe)%Pe}function I(e,t){return L(e.p1.x,e.p2.x)?C(t.y,e.p1.y,e.p2.y):C(t.x,e.p1.x,e.p2.x)}function M(e,t){return L(e.p1.x,e.p2.x)?0<(t.y-e.p1.y)/(e.p2.y-e.p1.y):0<(t.x-e.p1.x)/(e.p2.x-e.p1.x)}function V(e,t){const n=e.p1.x-e.p2.x,r=e.p1.y-e.p2.y,i=t.p1.x-t.p2.x,o=t.p1.y-t.p2.y,s=n*o-r*i;if(L(s,0))return[];const a=e.p1.x*e.p2.y-e.p1.y*e.p2.x,l=t.p1.x*t.p2.y-t.p1.y*t.p2.x;return[new Ae((a*i-n*l)/s,(a*o-r*l)/s)]}function q(e,t){const n=Ae.distance(e.c,t.c);if(n>e.r+t.r)return[];if(n<Math.abs(e.r-t.r))return[];if(L(n,0)&&L(e.r,t.r))return[];if(L(n,e.r+t.r))return[new Se(e.c,t.c).midpoint];const r=(o(e.r)-o(t.r)+o(n))/(2*n),i=Math.sqrt(o(e.r)-o(r)),s=(t.c.x-e.c.x)*r/n+(t.c.y-e.c.y)*i/n+e.c.x,a=(t.c.y-e.c.y)*r/n-(t.c.x-e.c.x)*i/n+e.c.y,l=(t.c.x-e.c.x)*r/n-(t.c.y-e.c.y)*i/n+e.c.x,d=(t.c.y-e.c.y)*r/n+(t.c.x-e.c.x)*i/n+e.c.y;return[new Ae(s,a),new Ae(l,d)]}function O(e,t){const n=e.p2.x-e.p1.x,r=e.p2.y-e.p1.y,i=o(n)+o(r),s=t.c.x,a=t.c.y,l=(e.p1.x-s)*(e.p2.y-a)-(e.p2.x-s)*(e.p1.y-a),d=o(t.r)*i-o(l);if(0>d)return[];const c=l*r/i,p=-l*n/i;if(L(d,0))return[t.c.shift(c,p)];const h=n*(0>r?-1:1)*Math.sqrt(d)/i,y=Math.abs(r)*Math.sqrt(d)/i;return[t.c.shift(c+h,p+y),t.c.shift(c-h,p-y)]}function N(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(2>t.length)return[];if(2<t.length)return g(P(t,2).map(t=>N(...t)));let r=t[0],i=t[1];if(i instanceof Oe||i instanceof Ne){var o=[i,r];r=o[0],i=o[1]}if(r instanceof Oe||r instanceof Ne){const e=i instanceof Se?r.points.filter(e=>i.contains(e)):[];return[...e,...N(i,...r.edges)]}return H(r,i)}function H(e,t){let n=[];e instanceof Se&&t instanceof Se?n=V(e,t):e instanceof Se&&t instanceof Ve?n=O(e,t):e instanceof Ve&&t instanceof Se?n=O(t,e):e instanceof Ve&&t instanceof Ve&&(n=q(e,t));for(const r of[e,t])r instanceof Me&&(n=n.filter(e=>I(r,e))),r instanceof Ie&&(n=n.filter(e=>M(r,e)));return n}function W(t){if("touches"in t){const e=t.targetTouches.length?t.targetTouches:t.changedTouches;return new Ae(e[0].clientX,e[0].clientY)}return new Ae(t.clientX,t.clientY)}function R(e){if("mouse"===e.pointerType)return ae(e.target);const t=W(e);return ae(document.elementFromPoint(t.x,t.y))}function B(t){for(const n of t){const e=n.isIntersecting?"enterViewport":"exitViewport";setTimeout(()=>ae(n.target).trigger(e))}}function X(e){if(!e._data.intersectionEvents){if(e._data.intersectionEvents=!0,!window.IntersectionObserver){let t=!1;return void Qe.on("scroll",()=>{const n=e.isInViewport;t&&!n?(e.trigger("exitViewport"),t=!1):n&&!t&&(e.trigger("enterViewport"),t=!0)})}Re||(Re=new IntersectionObserver(B)),Re.observe(e._el)}}function z(t){if(t._data._pointerPositionEvents)return;t._data._pointerPositionEvents=!0;const n=t.parent;let r=null;n.on("pointerend",()=>r=null),n.on("pointermove",n=>{const e=r,i=R(n);r=i.equals(t)||i.hasParent(t),null!=e&&r&&!e&&t.trigger("pointerenter",n),!r&&e&&t.trigger("pointerleave",n)})}function j(t,n){n._events["_"+t]||(n._events["_"+t]=!0,We?n.on(event,r=>{"mouse"===r.pointerType&&n.trigger(t,r)}):!He&&n._el.addEventListener(t,r=>n.trigger(t,r)))}function Y(t,n,r,i){if(n in t._events?0>t._events[n].indexOf(r)&&t._events[n].push(r):t._events[n]=[r],n in Be){const o=m(Be[n]);for(let n of o)t._el.addEventListener(n,r,i)}else n in Xe?Xe[n](t,r):t._el.addEventListener(n,r,i)}function F(t,n,r){if(n in t._events&&(t._events[n]=y(t._events[n],r)),n in Be){const i=m(Be[n]);for(let n of i)t._el.removeEventListener(n,r)}else if(n in Xe);else t._el.removeEventListener(n,r)}function D(e,t,n){const r=t.x*(n.y-e.y)+e.x*(t.y-n.y)+n.x*(e.y-t.y),i=0<r?1:0,o=Ae.distance(t,e);return[e.x,e.y+"A"+o,o,0,i,1,n.x,n.y].join(",")}function G(e,t){return void 0===t&&(t={}),e.isRight&&!t.round?20:24+20*(1-i(e.rad,0,Math.PI)/Math.PI)}function K(e,t){void 0===t&&(t={});let n=e.a;const r=e.b;let i=e.c;const o=t.size||G(e,t),s=Ae.difference(n,r).normal,l=Ae.difference(i,r).normal;n=Ae.sum(r,s.scale(o)),i=Ae.sum(r,l.scale(o));let h=t.fill?"M"+r.x+","+r.y+"L":"M";if(e.isRight&&!t.round){const e=Ae.sum(n,l.scale(o));h+=n.x+","+n.y+"L"+e.x+","+e.y+"L"+i.x+","+i.y}else h+=D(n,r,i);return t.fill&&(h+="Z"),h}function Z(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return"M"+t.map(e=>e.x+","+e.y).join("L")}function U(e,t){const r=e.perpendicularVector.scale(6),i=e.normalVector.scale(3),n=e.midpoint;return"bar"===t?Z(n.add(r),n.add(r.inverse)):"bar2"===t?Z(n.add(i).add(r),n.add(i).add(r.inverse))+Z(n.add(i.inverse).add(r),n.add(i.inverse).add(r.inverse)):"arrow"===t?Z(n.add(i.inverse).add(r),n.add(i),n.add(i.inverse).add(r.inverse)):"arrow2"===t?Z(n.add(i.scale(-2)).add(r),n,n.add(i.scale(-2)).add(r.inverse))+Z(n.add(r),n.add(i.scale(2)),n.add(r.inverse)):void 0}function J(e,t){if(!e||!t)return"";const n=t.perpendicular,r=e.add(t.scale(9)).add(n.scale(9)),i=e.add(t.scale(9)).add(n.scale(-9));return Z(r,e,i)}function Q(e,n){let r="";return t(n,"start","both")&&(r+=J(e.p1,e.normalVector)),t(n,"end","both")&&(r+=J(e.p2,e.normalVector.inverse)),r}function ee(e,n){let r="";if(t(n,"start","both")){const t=new Se(e.c,e.start).perpendicularVector.inverse;r+=J(e.start,t)}if(t(n,"end","both")){const t=new Se(e.c,e.end).perpendicularVector;r+=J(e.end,t)}return r}function te(e,t){void 0===t&&(t={});const n=e.constructor.name;if("Angle"===n)return K(e,t);if("Segment"===n){if(e.p1.equals(e.p2))return"";let n=Z(e.p1,e.p2);return t.mark&&(n+=U(e,t.mark)),t.arrows&&(n+=Q(e,t.arrows)),n}if("Ray"===n){if(!t.box)return"";const n=N(e,t.box)[0];return n?Z(e.p1,n):""}if("Line"===n){if(!t.box)return"";const n=N(e,t.box);if(2>n.length)return"";let r=Z(n[0],n[1]);return t.mark&&(r+=U(e,t.mark)),r}if("Circle"===n)return"M "+(e.c.x-e.r)+" "+e.c.y+" a "+e.r+","+e.r+" 0 1 0 "+(2*e.r+" 0 a "+e.r+" "+e.r+" 0 1 0 "+-2*e.r+" 0");if("Arc"===n){let n="M"+D(e.start,e.c,e.end);return t.arrows&&(n+=ee(e,t.arrows)),n}return"Sector"===n?"M "+e.c.x+" "+e.c.y+" L "+D(e.start,e.c,e.end)+" Z":"Polyline"===n?Z(...e.points):"Polygon"===n||"Triangle"===n?Z(...e.points)+"Z":"Rectangle"===n?Z(...e.polygon.points)+"Z":void 0}function ne(e,t,n){void 0===n&&(n={});const r=t.constructor.name;if(n.fill&&(e.fillStyle=n.fill),n.opacity&&(e.globalAlpha=n.opacity),n.stroke&&(e.strokeStyle=n.stroke,e.lineWidth=n.strokeWidth||1,n.lineCap&&(e.lineCap=n.lineCap),n.lineJoin&&(e.lineJoin=n.lineJoin)),e.beginPath(),"Segment"===r)e.moveTo(t.p1.x,t.p1.y),e.lineTo(t.p2.x,t.p2.y);else if("Circle"===r)e.arc(t.c.x,t.c.y,t.r,0,2*Math.PI);else if("Polygon"===r||"Triangle"===r){e.moveTo(t.points[0].x,t.points[0].y);for(const n of t.points.slice(1))e.lineTo(n.x,n.y);e.closePath()}else if("Polyline"===r){e.moveTo(t.points[0].x,t.points[0].y);for(const n of t.points.slice(1))e.lineTo(n.x,n.y)}n.fill&&e.fill(),n.stroke&&e.stroke()}function re(e){function t(t,n){i[t]=n,t in e||Object.defineProperty(e,t,{get:()=>i[t],set(n){i[t]=n,e.update()}})}void 0===e&&(e={});const r=[],i={};let o=1,s=$e.split("").map(e=>"_"+e);for(const n of Object.keys(e))t(n,e[n]);return e.update=function(){for(const e of r)e(i)},e.watch=function(e,t){void 0===t&&(t=!1),r.push(e),t||e(i)},e.set=function(n,r){i[n]===r||(t(n,r),e.update())},e.assign=function(n){for(const e of Object.keys(n))t(e,n[e]);e.update()},e.name=function(){return s.length||(o+=1,s=$e.split("").map(e=>_("_",o)+e)),s.pop()},e}function ie(t,n){void 0===n&&(n=!1);let r=t.replace(/×/g,"*");n||(r=r.replace(/"/g,"\"").replace(/\${([^}]+)}/g,(e,t)=>"\" + ("+t+") + \""),r="\""+r+"\"");try{return new Function("_vars","try {\n      with(_vars) { return "+r+" }\n    } catch(_error) {\n      if (!(_error instanceof ReferenceError)) console.warn(_error);\n      return \"\";\n    }")}catch(n){return console.warn("WHILE PARSING: ",t,"\n",n),function(){return""}}}function oe(e,t,n,r){if(void 0===r&&(r=n),0>n[t].indexOf("${"))return;const i=ie(n[t]);e.watch(()=>{r[t]=i(e)}),r[t]=i(e)}function se(e,t,n){void 0===n&&(n=!0);for(const r of e.attributes){const n=r.name.match(/^x-/)?document.createAttribute(r.name.replace(/^x-/,"")):r;oe(t,"value",r,n),n!==r&&e._el.setAttributeNode(n)}if(e.children.length)for(const r of e.childNodes)"TEXT"===r.tagName?oe(t,"text",r):n&&se(r,t);else e.html.trim()&&oe(t,"html",e)}function ae(e,n){if(void 0===n&&(n=null),!e)return null;const r=n?n._el:document.documentElement,i="string"==typeof e?r.querySelector(e):e;if(!i)return null;if(i.$el)return i.$el;if(t(i,window,document.body,document.documentElement))return new je(i);const o=(i.tagName||"").toLowerCase();return 0<=Ke.indexOf(o)?new Fe(i):0<=Ze.indexOf(o)?new Ye(i):"canvas"===o?new De(i):t(o,"video","audio")?new Ge(i):new ze(i)}function $(e,t){void 0===t&&(t=null);const n=t?t._el:document.documentElement,r=n.querySelectorAll(e||null);return Array.from(r,e=>ae(e))}function le(e,n,r){void 0===n&&(n={}),void 0===r&&(r=null);const i=0>Ke.indexOf(e)?document.createElement(e):document.createElementNS("http://www.w3.org/2000/svg",e);for(const t of Object.keys(n))"id"===t?i.id=n.id:"html"===t?i.innerHTML=n.html:"text"===t?i.textContent=n.text:"path"===t?i.setAttribute("d",te(n.path)):i.setAttribute(t,n[t]);const t=ae(i);return r&&r.append(t),t}function de(e){void 0===e&&(e=null),e?(e({width:rt,height:it}),et.on("resize",e)):ot()}function ce(){if(!at){at=!0;for(const e of st)e();setTimeout(de)}}function pe(e){at?e():st.push(e)}function he(){const e=document.cookie.split(";"),t={};for(let r=0,i=e.length;r<i;++r){const n=e[r].split("=");n[0]=n[0].replace(/^\s+|\s+$/,""),t[decodeURIComponent(n[0])]=decodeURIComponent(n[1])}return t}function ye(e,t,n){void 0===n&&(n=31536000),document.cookie=e+"="+t+";path=/;max-age="+n}function ge(e,t){const n=(e||"").split("."),r=JSON.parse(window.localStorage.getItem(lt))||{};let o=r;for(let r=0;r<n.length-1;++r)null==o[n[r]]&&(o[n[r]]={}),o=o[n[r]];o[n[n.length-1]]=t,window.localStorage.setItem(lt,JSON.stringify(r))}function ue(e){let t=JSON.parse(window.localStorage.getItem(lt))||{};if(!e)return t;const n=(e||"").split("."),r=n.pop();for(const r of n){if(!(r in t))return null;t=t[r]}return t[r]}function fe(){const e=document.activeElement;return e===document.body?void 0:ae(e)}function me(e,t){function n(){o&&(!t||i<=t)&&window.requestAnimationFrame(n);const a=Date.now()-r;e(t?Math.min(1,a/t):a,a-i,d),t&&a>=t&&s.resolve(),i=a}if(0===t)return void e();const r=Date.now();let i=0,o=!0;const s=a(),l=s.promise.then.bind(s.promise),d=()=>{o=!1,s.reject()};return n(),{cancel:d,then:l}}function xe(e,n,t){return"quad"===e?n*n:"cubic"===e?n*n*n:"quart"===e?n*n*n*n:"quint"===e?n*n*n*n*n:"circ"===e?1-Math.sqrt(1-n*n):"sine"===e?1-Math.cos(n*Math.PI/2):"exp"===e?0>=n?0:Math.pow(2,10*(n-1)):"back"===e?(t||(t=1.70158),n*n*((t+1)*n-t)):"elastic"===e?(t||(t=.3),-Math.pow(2,10*(n-1))*Math.sin((2*(n-1)/t-.5)*Math.PI)):"swing"===e?.5-Math.cos(n*Math.PI)/2:"spring"===e?1-Math.cos(4.5*n*Math.PI)*Math.exp(6*-n):"bounce"===e?n<1/11?1/64-7.5625*(.5/11-n)*(.5/11-n):n<3/11?1/16-7.5625*(2/11-n)*(2/11-n):n<7/11?1/4-7.5625*(5/11-n)*(5/11-n):1-7.5625*(1-n)*(1-n):n}function _e(e,n,r){return(void 0===n&&(n=0),void 0===r&&(r=0),0===n)?0:1===n?1:(e=e.split("-"),"in"===e[1]?xe(e[0],n,r):"out"===e[1]?1-xe(e[0],1-n,r):.5>=n?xe(e[0],2*n,r)/2:1-xe(e[0],2*(1-n),r)/2)}function ve(t,n,r,i,o){if(void 0===r&&(r=400),void 0===i&&(i=0),void 0===o&&(o="ease-in-out"),!_t)return Object.keys(n).forEach(e=>{const r=n[e];t.css(e,Array.isArray(r)?r[1]:r)}),Promise.resolve();"bounce-in"===o&&(o=vt),"bounce-out"===o&&(o=kt);let l=null;xt.isSafari&&(l=t._el.style.transition,t.css("transition","none"),xt.redraw()),t._data._animation&&t._data._animation.cancel();const d={},e={},c=a(),h=window.getComputedStyle(t._el);Object.keys(n).forEach(r=>{const o=n[r],s=x(r);e[s]=Array.isArray(o)?o[0]:h.getPropertyValue(r),d[s]=Array.isArray(o)?o[1]:o,i&&t.css(r,e[s])});const y=d.height;"auto"===d.height&&(d.height=p(t.children.map(e=>e.outerHeight))+"px");let g,u=!1;s(()=>{u||(g=t._el.animate([e,d],{duration:r,easing:o,fill:"forwards"}),g.onfinish=function(r){t._el&&Object.keys(n).forEach(e=>t.css(e,"height"===e?y:d[e])),xt.isSafari&&t.css("transition",l||""),c.resolve(r),g.cancel()})},i);const f={then:c.promise.then.bind(c.promise),cancel(){u=!0,t._el&&Object.keys(n).forEach(e=>t.css(e,t.css(e))),g&&g.cancel()}};return setTimeout(()=>t._data._animation=f),f}function ke(e,t,n,r){if(void 0===t&&(t="fade"),void 0===n&&(n=500),void 0===r&&(r=0),e.show(),!_t)return Promise.resolve();if("fade"===t)return ve(e,{opacity:[0,1]},n,r);if("pop"===t){const t=e.transform.replace(/scale\([0-9.]*\)/,"").replace(bt,"translate($1px,$2px)");return ve(e,{opacity:[0,1]},n,r),ve(e,{transform:[t+" scale(0.5)",t+" scale(1)"]},n,r,"bounce-in")}if("descend"===t){return ve(e,{opacity:[0,1],transform:["translateY(-50%)","none"]},n,r)}if(t.startsWith("draw")){const i=e.strokeLength;e.css({opacity:1,"stroke-dasharray":i+"px"});const o="draw-reverse"===t?2*i+"px":0;return ve(e,{"stroke-dashoffset":[i+"px",o]},n,r,"linear").then(()=>e.css("stroke-dasharray",""))}if(t.startsWith("slide")){const i={opacity:[0,1],transform:["translateY(50px)","none"]};return t.includes("down")&&(i.transform[0]="translateY(-50px)"),ve(e,i,n,r)}if(t.startsWith("reveal")){const i={opacity:[0,1],height:[0,"auto"]};return t.includes("left")&&(i.transform=["translateX(-50%)","none"]),t.includes("right")&&(i.transform=["translateX(50%)","none"]),ve(e,i,n,r)}}function be(e,t,n,r,i){if(void 0===t&&(t="fade"),void 0===n&&(n=400),void 0===r&&(r=0),void 0===i&&(i=!1),!e._el)return Promise.resolve();if(!_t)return e.hide(),Promise.resolve();if("none"===e.css("display"))return Promise.resolve();let o;if("fade"===t)o=ve(e,{opacity:[1,0]},n,r);else if("pop"===t){const t=e.transform.replace(/scale\([0-9.]*\)/,"");ve(e,{opacity:[1,0]},n,r),o=ve(e,{transform:[t+" scale(1)",t+" scale(0.5)"]},n,r,"bounce-out")}else if("ascend"===t){o=ve(e,{opacity:[1,0],transform:["none","translateY(-50%)"]},n,r)}else if(t.startsWith("draw")){const i=e.strokeLength;e.css("stroke-dasharray",i);const s="draw-reverse"===t?2*i+"px":0;o=ve(e,{"stroke-dashoffset":[s,i+"px"]},n,r,"linear")}else if(t.startsWith("slide")){const i={opacity:0,transform:"translateY(50px)"};t.includes("up")&&(i.transform="translateY(-50px)"),o=ve(e,i,n,r)}else if(t.startsWith("reveal")){const i={opacity:0,height:0};t.includes("left")&&(i.transform="translateX(-50%)"),t.includes("right")&&(i.transform="translateX(50%)"),o=ve(e,i,n,r)}return o.then(()=>i?e.remove():e.hide()),o}function we(e,t){e.one("animationend",()=>e.removeClass("effects-"+t)),e.addClass("effects-"+t)}const Te=new Map,Le=l(T,5e3);window.addEventListener("online",Le),window.onbeforeunload=T;const Ce=1e-6;class Ae{constructor(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.x=e,this.y=t}get normal(){return L(this.length,0)?new Ae(1,0):this.scale(1/this.length)}get length(){return Math.sqrt(o(this.x)+o(this.y))}get inverse(){return new Ae(-this.x,-this.y)}get flip(){return new Ae(this.y,this.x)}get perpendicular(){return new Ae(-this.y,this.x)}get array(){return[this.x,this.y]}distanceFromLine(e){return Ae.distance(this,e.project(this))}clamp(e,t,n,r){return new Ae(i(this.x,e,t),i(this.y,n,r))}transform(e){if(!e)return this;let t=e[0][0]*this.x+e[0][1]*this.y+e[0][2],n=e[1][0]*this.x+e[1][1]*this.y+e[1][2];return new Ae(t,n)}rotate(e,t){void 0===t&&(t=Ee);let n=this.x-t.x,r=this.y-t.y,i=Math.cos(e),o=Math.sin(e),s=n*i-r*o+t.x,a=n*o+r*i+t.y;return new Ae(s,a)}reflect(e){let t=e.p2.x-e.p1.x,n=e.p2.y-e.p1.y,r=this.x-e.p1.x,i=this.y-e.p1.y,o=(t*i-n*r)/(t*t+n*n),s=this.x+2*o*n,a=this.y-2*o*t;return new Ae(s,a)}scale(e,t){return void 0===t&&(t=e),new Ae(this.x*e,this.y*t)}shift(e,t){return void 0===t&&(t=e),new Ae(this.x+e,this.y+t)}changeCoordinates(e,t){const n=t.xMin+(this.x-e.xMin)/e.dx*t.dx,r=t.yMin+(this.y-e.yMin)/e.dy*t.dy;return new Ae(n,r)}add(e){return Ae.sum(this,e)}translate(e){return this.add(e)}subtract(e){return Ae.difference(this,e)}equals(e){return Ae.equals(this,e)}round(e){return void 0===e&&(e=1),new Ae(A(this.x,e),A(this.y,e))}floor(){return new Ae(Math.floor(this.x),Math.floor(this.y))}mod(e,t){return void 0===t&&(t=e),new Ae(this.x%e,this.y%t)}angle(e){return void 0===e&&(e=Ee),S(this,e)}static average(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=p(t.map(e=>e.x))/t.length,i=p(t.map(e=>e.y))/t.length;return new Ae(r,i)}static dot(e,t){return e.x*t.x+e.y*t.y}static sum(e,t){return new Ae(e.x+t.x,e.y+t.y)}static difference(e,t){return new Ae(e.x-t.x,e.y-t.y)}static distance(e,t){return Math.sqrt(o(e.x-t.x)+o(e.y-t.y))}static manhattan(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)}static interpolate(e,n,r){return void 0===r&&(r=.5),new Ae(e.x+r*(n.x-e.x),e.y+r*(n.y-e.y))}static interpolateList(e,r){void 0===r&&(r=.5);const o=e.length-1,n=Math.floor(i(r,0,1)*o);return Ae.interpolate(e[n],e[n+1],o*r-n)}static equals(e,t){return L(e.x,t.x)&&L(e.y,t.y)}static fromPolar(e,t){return void 0===t&&(t=1),new Ae(t*Math.cos(e),t*Math.sin(e))}}const Ee=new Ae(0,0),Pe=2*Math.PI;class Se{constructor(e,t){this.p1=e,this.p2=t}get length(){return Ae.distance(this.p1,this.p2)}get midpoint(){return Ae.average(this.p1,this.p2)}get slope(){return(this.p2.y-this.p1.y)/(this.p2.x-this.p1.x)}get intercept(){return this.p1.y+this.slope*this.p1.x}get angle(){return S(this.p2,this.p1)}get normalVector(){let e=this.length,t=(this.p2.x-this.p1.x)/e,n=(this.p2.y-this.p1.y)/e;return new Ae(t,n)}get perpendicularVector(){return new Ae(this.p2.y-this.p1.y,this.p1.x-this.p2.x).normal}get perpBisector(){return this.perpendicular(this.midpoint)}parallel(e){const t=Ae.sum(e,Ae.difference(this.p2,this.p1));return new Se(e,t)}perpendicular(e){return new Se(e,Ae.sum(e,this.perpendicularVector))}contains(e){const t=e.x*(this.p1.y-this.p2.y)+this.p1.x*(this.p2.y-e.y)+this.p2.x*(e.y-this.p1.y);return L(t,0)}at(e){return Ae.interpolate(this.p1,this.p2,e)}project(e){const t=Ae.difference(this.p2,this.p1),n=Ae.difference(e,this.p1),r=t.scale(Ae.dot(t,n)/o(this.length));return Ae.sum(this.p1,r)}transform(e){return e?new this.constructor(this.p1.transform(e),this.p2.transform(e)):this}rotate(e,t){return void 0===t&&(t=Ee),new this.constructor(this.p1.rotate(e,t),this.p2.rotate(e,t))}reflect(e){return new this.constructor(this.p1.reflect(e),this.p2.reflect(e))}scale(e,t){return void 0===t&&(t=e),new this.constructor(this.p1.scale(e,t),this.p2.scale(e,t))}shift(e,t){return void 0===t&&(t=e),new this.constructor(this.p1.shift(e,t),this.p2.shift(e,t))}translate(e){return new this.constructor(this.p1.translate(e),this.p2.translate(e))}equals(e){return this.constructor.equals(this,e)}static equals(e,t){return e.contains(t.p1)&&e.contains(t.p2)}}class Ie extends Se{}class Me extends Se{contains(e){}project(e){const t=Ae.difference(this.p2,this.p1),n=Ae.difference(e,this.p1),r=i(Ae.dot(t,n)/o(this.length),0,1);return Ae.sum(this.p1,t.scale(r))}contract(e){return new Me(this.at(e),this.at(1-e))}static equals(e,t,n){return void 0===n&&(n=!1),Ae.equals(e.p1,t.p1)&&Ae.equals(e.p2,t.p2)||!n&&Ae.equals(e.p1,t.p2)&&Ae.equals(e.p2,t.p1)}static intersect(e,t){const n=new Me(e.p1,e.p2),r=new Me(t.p1,t.p2);return N(n,r)[0]||null}}class Ve{constructor(e,t){void 0===e&&(e=Ee),void 0===t&&(t=1),this.c=e,this.r=t}get circumference(){return 2*Math.PI*this.r}get area(){return Math.PI*o(this.r)}get arc(){let e=this.c.shift(this.r,0);return new qe(this.c,e,Pe)}transform(e){return e?new Ve(this.c.transform(e),this.r*(e[0][0]+e[1][1])/2):this}rotate(e,t){return void 0===t&&(t=Ee),new Ve(this.c.rotate(e,t),this.r)}reflect(e){return new Ve(this.c.reflect(e),this.r)}scale(e,t){return void 0===t&&(t=e),new Ve(this.c.scale(e,t),this.r*(e+t)/2)}shift(e,t){return void 0===t&&(t=e),new Ve(this.c.shift(e,t),this.r)}translate(e){return new Ve(this.c.translate(e),this.r)}contains(e){return Ae.distance(e,this.c)<=this.r}equals(e){return e instanceof Ve&&L(this.r,e.r)&&this.c.equals(e.c)}project(e){const t=Ae.difference(e,this.c).normal.scale(this.r);return Ae.sum(this.c,t)}at(e){const t=2*Math.PI*e;return this.c.shift(this.r*Math.cos(t),this.r*Math.sin(t))}tangentAt(e){const t=this.at(e),n=this.c.rotate(Math.PI/2,t);return new Se(t,n)}}class qe{constructor(e,t,n){this.c=e,this.start=t,this.angle=n}get radius(){return Ae.distance(this.c,this.start)}get end(){return this.start.rotate(this.angle,this.c)}transform(e){return e?new qe(this.c.transform(e),this.start.transform(e),this.angle):this}get startAngle(){return S(this.start,this.c)}project(e){let t=this.startAngle,n=t+this.angle,r=S(e,this.c);return n>Pe&&r<n-Pe&&(r+=Pe),r=i(r,t,n),this.c.shift(this.radius,0).rotate(r,this.c)}at(e){return this.start.rotate(this.angle*e,this.c)}contract(e){return new this.constructor(this.c,this.at(e/2),this.angle*(1-e))}get minor(){return this.angle<=Math.PI?this:new this.constructor(this.c,this.end,2*Math.PI-this.angle)}get major(){return this.angle>=Math.PI?this:new this.constructor(this.c,this.end,2*Math.PI-this.angle)}get center(){return this.at(.5)}}class Oe{constructor(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.points=t}get circumference(){let e=0;for(let t=1;t<this.points.length;++t)e+=Ae.distance(this.points[t-1],this.points[t]);return e}get signedArea(){let e=this.points,t=e.length,n=e[t-1].x*e[0].y-e[0].x*e[t-1].y;for(let r=1;r<t;++r)n+=e[r-1].x*e[r].y-e[r].x*e[r-1].y;return n/2}get area(){return Math.abs(this.signedArea)}get centroid(){let e=this.points,t=e.length,n=0;for(let r=0;r<t;++r)n+=e[r].x;let r=0;for(let n=0;n<t;++n)r+=e[n].y;return new Ae(n/t,r/t)}get edges(){let e=this.points,t=e.length,n=[];for(let r=0;r<t;++r)n.push(new Me(e[r],e[(r+1)%t]));return n}get radius(){const e=this.centroid,t=this.points.map(t=>Ae.distance(t,e));return Math.max(...t)}transform(e){return e?new this.constructor(...this.points.map(t=>t.transform(e))):this}rotate(e,t){void 0===t&&(t=Ee);const n=this.points.map(n=>n.rotate(e,t));return new this.constructor(...n)}reflect(e){const t=this.points.map(t=>t.reflect(e));return new this.constructor(...t)}scale(e,t){void 0===t&&(t=e);const n=this.points.map(n=>n.scale(e,t));return new this.constructor(...n)}shift(e,t){void 0===t&&(t=e);const n=this.points.map(n=>n.shift(e,t));return new this.constructor(...n)}translate(e){return this.shift(e.x,e.y)}contains(e){let t=this.points.length,n=!1;for(let r=0;r<t;++r){const i=this.points[r],o=this.points[(r+1)%t],s=i.y>e.y!=o.y>e.y,a=e.x<(o.x-i.x)*(e.y-i.y)/(o.y-i.y)+i.x;s&&a&&(n=!n)}return n}equals(e){}project(e){}at(e){return Ae.interpolateList([...this.points,this.points[0]],e)}get oriented(){if(0<=this.signedArea)return this;const e=[...this.points].reverse();return new Oe(...e)}intersect(e){const t=[u(this.oriented.points),u(e.oriented.points)],n=this.points.length+e.points.length,r=[];let i=0,o=t[i].find(t=>e.contains(t.val));if(!o)return null;for(;o.val!==r[0]&&r.length<n;){r.push(o.val);const e=new Me(o.val,o.next.val);o=o.next;for(let n of t[1-i]){const t=new Me(n.val,n.next.val),r=N(e,t)[0];if(r){i=1-i,o={val:r,next:n.next};break}}}return new Oe(...r)}static collision(e,t){for(let n of e.edges)for(let e of t.edges)if(Me.intersect(n,e))return!0;for(let n of e.points)if(t.contains(n))return!0;for(let n of t.points)if(e.contains(n))return!0;return!1}static regular(e,t){void 0===t&&(t=1);const n=2*Math.PI/e,r=Math.PI/2-n/2,i=c(e=>Ae.fromPolar(r+n*e,t),e);return new Oe(...i)}static interpolate(e,n,r){const t=e.points.map((e,t)=>Ae.interpolate(e,n.points[t],r));return new Oe(...t)}}class Ne{constructor(e,t,n){void 0===t&&(t=1),void 0===n&&(n=t),this.p=e,this.w=t,this.h=n}static aroundPoints(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.map(e=>e.x),i=t.map(e=>e.y),o=Math.min(...r),s=Math.max(...r)-o,a=Math.min(...i),l=Math.max(...i)-a;return new Ne(new Ae(o,a),s,l)}get center(){return new Ae(this.p.x+this.w/2,this.p.y+this.h/2)}get circumference(){return 2*Math.abs(this.w)+2*Math.abs(this.h)}get area(){return Math.abs(this.w*this.h)}get edges(){return this.polygon.edges}get points(){return this.polygon.points}get polygon(){let e=new Ae(this.p.x+this.w,this.p.y),t=new Ae(this.p.x+this.w,this.p.y+this.h),n=new Ae(this.p.x,this.p.y+this.h);return new Oe(this.p,e,t,n)}transform(e){return e?this.polygon.transform(e):this}rotate(e,t){return void 0===t&&(t=Ee),this.polygon.rotate(e,t)}reflect(e){return this.polygon.reflect(e)}scale(e,t){return void 0===t&&(t=e),new Ne(this.p.scale(e,t),this.w*e,this.h*t)}shift(e,t){return void 0===t&&(t=e),new Ne(this.p.shift(e,t),this.w,this.h)}translate(e){return new Ne(this.p.translate(e),this.w,this.h)}contains(e){return C(e.x,this.p.x,this.p.x+this.w)&&C(e.y,this.p.y,this.p.y+this.h)}equals(e){}project(e){let t={x:this.p.x+this.w,y:this.p.y+this.h},n={x:this.p.x+this.w/2,y:this.p.y+this.h/2},r=(n.y-e.y)/(n.x-e.x);if(e.x<=n.x){let n=r*(this.p.x-e.x)+e.y;if(this.p.y<n&&n<t.y)return new Ae(this.p.x,n)}if(e.x>=n.x){let n=r*(t.x-e.x)+e.y;if(this.p.y<n&&n<t.y)return new Ae(t.x,n)}if(e.y<=n.y){let n=(this.p.y-e.y)/r+e.x;if(this.p.x<n&&n<t.x)return new Ae(n,this.p.y)}if(e.y>=n.y){let n=(t.y-e.y)/r+e.x;if(this.p.x<n&&n<t.x)return new Ae(n,t.y)}}at(e){}}const He="ontouchstart"in window,We="onpointerdown"in window;let Re;const Be={change:"propertychange keyup input paste",scrollwheel:"DOMMouseScroll mousewheel",pointerdown:We?"pointerdown":He?"touchstart":"mousedown",pointermove:We?"pointermove":He?"touchmove":"mousemove",pointerup:We?"pointerup":He?"touchend":"mouseup",pointercancel:We?"pointercancel":"touchcancel",pointerstop:We?"pointerup pointercancel":He?"touchend touchcancel":"mouseup"},Xe={scroll:function(e){function t(){const n=e.scrollTop;return n===s?void(o=!1):void(s=n,e.trigger("scroll",{top:s}),window.requestAnimationFrame(t))}function n(){o||window.requestAnimationFrame(t),o=!0}function r(){window.addEventListener("touchmove",n),window.addEventListener("touchend",i)}function i(){window.removeEventListener("touchmove",n),window.removeEventListener("touchend",i)}if(e._data._scrollEvents)return;e._data._scrollEvents=!0;let o=!1,s=null;const a=e instanceof je?window:e._el;a.addEventListener("scroll",n),e._el.addEventListener("touchstart",function(t){t.handled||r()})},hover:function(e,t){let n=null,r=!1,i=!1;e.on("mouseover",()=>{t.preventMouseover&&t.preventMouseover()||(clearTimeout(n),n=s(()=>{r||(t.enter(),i=!0,r=!0)},t.delay))}),e.on("mouseout",()=>{i&&(clearTimeout(n),n=s(()=>{r&&(t.exit&&t.exit(),r=!1)},t.delay))});const o=t.$clickTarget||e;o.on("click",()=>{r&&!i?(t.exit&&t.exit(),r=!1):!r&&(t.enter(),i=!1,r=!0)}),e.on("clickOutside",()=>{r&&(t.exit&&t.exit(),r=!1)})},click:function(t){if(t._events._click)return;if(t._events._click=!0,!navigator.userAgent.match(/iP(ad|hone|od)/g))return void t._el.addEventListener("click",function(n){t.trigger("click",n)});let n;t._el.addEventListener("touchstart",function(t){1===t.touches.length&&(n=W(t))}),t._el.addEventListener("touchend",function(r){if(n){const e=W(r);5>Math.abs(e.x-n.x)&&5>Math.abs(e.y-n.y)&&t.trigger("click",r),n=null}}),t._el.addEventListener("touchcancel",function(){n=null})},clickOutside:function(t){t._events._clickOutside||(t._events._clickOutside=!0,Qe.on("pointerdown",function(n){const e=ae(n.target);e.equals(t)||e.hasParent(t)||t.trigger("clickOutside",n)}))},key:function(t){t.on("keydown",n=>{if(!(n.metaKey||n.ctrlKey)&&!(xt.isAndroid&&229===n.keyCode)){const e=(n.key||String.fromCharCode(n.which)).toLowerCase();t.trigger("key",{code:n.keyCode,key:e})}}),xt.isAndroid&&t.on("input",n=>{const e=n.data[n.data.length-1].toLowerCase();t.trigger("key",{code:null,key:e}),t.value=""})},mousedown:j.bind(null,"mousedown"),mousemove:j.bind(null,"mousemove"),mouseup:j.bind(null,"mouseup"),pointerenter:z,pointerleave:z,enterViewport:X,exitViewport:X},$e="zyxwvutsrqponmlkjihgfedcba";class ze{constructor(e){this._el=e,this._data=e?e._m_data||(e._m_data={}):{},this._events=e?e._m_events||(e._m_events={}):{}}get id(){return this._el.id}get data(){return this._el.dataset}get tagName(){return this._el instanceof Text?"TEXT":this._el.tagName.toUpperCase()}equals(e){return this._el===e._el}getModel(){return this.parent?this.parent.model||this.parent.getModel()||re():null}bindObservable(e,t){return void 0===t&&(t=!0),se(this,e,t),e}addClass(e){if("TEXT"!==this.tagName)for(const t of m(e))this._el.classList.add(t)}removeClass(e){if("TEXT"!==this.tagName)for(const t of m(e))this._el.classList.remove(t)}hasClass(e){return"TEXT"===this.tagName?void 0:this._el.classList.contains(e)}toggleClass(e){return"TEXT"===this.tagName?void 0:this._el.classList.toggle(e)}setClass(e,t){t?this.addClass(e):this.removeClass(e)}attr(e){return this._el.getAttribute(e)||""}hasAttr(e){return this._el.hasAttribute(e)}setAttr(e,t){this._el.setAttribute(e,""+t)}removeAttr(e){this._el.removeAttribute(e)}get attributes(){return Array.from(this._el.attributes||[])}get value(){return this._el.value}set value(e){this._el.value=e}get html(){return this._el.innerHTML||""}set html(e){this._el.innerHTML=e}get text(){return this._el.textContent||""}set text(e){this._el.textContent=e}blur(){this._el.blur()}focus(){this._el.focus()}get bounds(){return this._el.getBoundingClientRect()}get topLeftPosition(){const e=this.bounds;return new Ae(e.left,e.top)}get offsetTop(){return this._el.offsetTop}get offsetLeft(){return this._el.offsetLeft}get offsetParent(){return ae(this._el.offsetParent)}get width(){return this._el.offsetWidth}get height(){return this._el.offsetHeight}get innerWidth(){const e=parseFloat(this.css("padding-left")),t=parseFloat(this.css("padding-right"));return this._el.clientWidth-e-t}get innerHeight(){const e=parseFloat(this.css("padding-bottom")),t=parseFloat(this.css("padding-top"));return this._el.clientHeight-e-t}get outerWidth(){const e=parseFloat(this.css("margin-left")),t=parseFloat(this.css("margin-right"));return this.width+e+t}get outerHeight(){const e=parseFloat(this.css("margin-bottom")),t=parseFloat(this.css("margin-top"));return this.height+e+t}get positionTop(){let e=this._el,t=0;do t+=e.offsetTop;while(e=e.offsetParent);return t}get positionLeft(){let e=this._el,t=0;do t+=e.offsetLeft;while(e=e.offsetParent);return t}get boxCenter(){const e=this.bounds;return new Ae(e.left+e.width/2,e.top+e.height/2)}offset(e){if(e._el===this._el.offsetParent){const t=this.offsetTop+e._el.clientTop,n=this.offsetLeft+e._el.clientLeft,r=t+this.height,i=n+this.width;return{top:t,left:n,bottom:r,right:i}}else{const t=e._el.getBoundingClientRect(),n=this._el.getBoundingClientRect();return{top:n.top-t.top,left:n.left-t.left,bottom:n.bottom-t.top,right:n.right-t.left}}}get isInViewport(){if(0===this.height)return!1;const e=this.bounds;return C(e.top,-e.height,xt.height)}get scrollWidth(){return this._el.scrollWidth}get scrollHeight(){return this._el.scrollHeight}get scrollTop(){return this._el.scrollTop}get scrollLeft(){return this._el.scrollLeft}set scrollTop(e){this._el.scrollTop=e,this.trigger("scroll",{top:e,left:this.scrollLeft})}set scrollLeft(e){this._el.scrollLeft=e,this.trigger("scroll",{top:this.scrollTop,left:e})}scrollTo(e,t,n){void 0===t&&(t=1e3),void 0===n&&(n="cubic"),0>e&&(e=0);const r=this.scrollTop,i=e-r;this._data._scrollAnimation&&this._data._scrollAnimation.cancel(),this._data._scrollAnimation=me(e=>{const t=r+i*_e(n,e);this.scrollTop=t,this.trigger("scroll",{top:t})},t)}scrollBy(e,t,n){void 0===t&&(t=1e3),void 0===n&&(n="cubic");e&&this.scrollTo(this.scrollTop+e,t,n)}css(e,t){if(!(t===void 0))this._el.style.setProperty(e,t);else if("string"==typeof e)return window.getComputedStyle(this._el).getPropertyValue(e);else{const t=Object.keys(e);for(const n of t)this._el.style.setProperty(n,e[n])}}get transform(){return this.css("transform").replace("none","")}get transformMatrix(){const e=this.transform;if(!e)return[[1,0,0],[0,1,0]];const t=e.match(/matrix\(([0-9,.\s\-]*)\)/);if(!t[1])return[[1,0,0],[0,1,0]];const n=t[1].split(",");return[[+n[0],+n[2],+n[4]],[+n[1],+n[3],+n[5]]]}get scale(){const e=this.transformMatrix;return[e[0][0],e[1][1]]}setTransform(e,n,r){void 0===n&&(n=0),void 0===r&&(r=1);let i="";e&&(i+="translate("+A(e.x,.1)+"px,"+A(e.y,.1)+"px)"),n&&(i+=" rotate("+n+"rad)"),r&&(i+=" scale("+r+")"),this._el.style.transform=i}translate(e,t){this.setTransform(new Ae(e,t))}show(){this.hasAttr("hidden")&&this.removeAttr("hidden"),"visibility"===this.data.display?this._el.style.visibility="visible":this._el.style.display=this.data.display||"block"}hide(){"visibility"===this.data.display?this._el.style.visibility="hidden":this._el.style.display="none"}toggle(e){e?this.show():this.hide()}is(e){return this._el.matches?this._el.matches(e):-1<[].indexOf.call(document.querySelectorAll(e),this._el)}index(){let e=0,t=this._el;for(;null!==(t=t.previousSibling);)++e;return e}prepend(e){const t=this._el.childNodes;t.length?this._el.insertBefore(e._el,t[0]):this._el.appendChild(e._el)}append(e){this._el.appendChild(e._el)}insertBefore(e){this.parent._el.insertBefore(e._el,this._el)}insertAfter(e){const t=this._el.nextSibling;t?this.parent._el.insertBefore(e._el,t):this.parent._el.appendChild(e._el)}wrap(e){this.insertBefore(e),e.append(this)}get next(){return ae(this._el.nextSibling)}get prev(){return ae(this._el.previousSibling)}$(e){return ae(e,this)}$$(e){return $(e,this)}get parent(){return ae(this._el.parentElement)}parents(e){const t=[];for(let n=this.parent;n;)(!e||n.is(e))&&t.push(n),n=n.parent;return t}hasParent(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];const i=n.map(e=>e._el);for(let e=this._el.parentNode;e;){if(t(e,...i))return!0;e=e.parentNode}return!1}get children(){const e=this._el.children||[];return Array.from(e,e=>ae(e))}get childNodes(){const e=this._el.childNodes||[];return Array.from(e,e=>ae(e))}remove(){this._el&&this._el.parentNode&&this._el.parentNode.removeChild(this._el),this._el=null}removeChildren(){for(;this._el.firstChild;)this._el.removeChild(this._el.firstChild)}replaceWith(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];for(const e of t)this.insertBefore(e);this.remove()}on(t,n,r){void 0===r&&(r=void 0);for(const i of m(t))Y(this,i,n,r)}one(t,n,r){void 0===r&&(r=void 0);const i=o=>{this.off(t,i,r),n(o)};this.on(t,i,r)}off(t,n){for(const r of m(t))F(this,r,n)}trigger(t,n){void 0===n&&(n={});for(const r of m(t)){if(!this._events[r])return;for(const e of this._events[r])e.call(this,n)}}onKeyDown(e,t){const n=m(e).map(e=>dt[e]||e);this._el.addEventListener("keydown",r=>{0<=n.indexOf(r.keyCode)&&t(r)})}animate(e,t,n,r){return ve(this,e,t,n,r)}enter(e,t,n){return void 0===e&&(e="fade"),void 0===t&&(t=500),void 0===n&&(n=0),ke(this,e,t,n)}exit(e,t,n,r){return void 0===e&&(e="fade"),void 0===t&&(t=500),void 0===n&&(n=0),void 0===r&&(r=!1),be(this,e,t,n,r)}effect(e){we(this,e)}copy(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);const n=ae(this._el.cloneNode(e));return t&&n.copyInlineStyles(this,e),n}copyInlineStyles(e,t){void 0===t&&(t=!0);const n=window.getComputedStyle(e._el);for(const r of n)this.css(r,n.getPropertyValue(r));if(t){const t=this.children,n=e.children;for(let e=0;e<t.length;++e)t[e].copyInlineStyles(n[e],!0)}}}class je extends ze{get width(){return window.innerWidth}get height(){return window.innerHeight}get innerWidth(){return window.innerWidth}get innerHeight(){return window.innerHeight}get outerWidth(){return window.outerWidth}get outerHeight(){return window.outerHeight}get scrollWidth(){return document.body.scrollWidth}get scrollHeight(){return document.body.scrollHeight}get scrollTop(){return window.pageYOffset}get scrollLeft(){return window.pageXOffset}set scrollTop(e){document.body.scrollTop=document.documentElement.scrollTop=e,this.trigger("scroll",{top:e,left:this.scrollLeft})}set scrollLeft(e){document.body.scrollLeft=document.documentElement.scrollLeft=e,this.trigger("scroll",{top:this.scrollTop,left:e})}}class Ye extends ze{get action(){return this._el.action}get checked(){return this._el.checked}get formData(){const e={};for(const t of Array.from(this._el.elements)){const n=t.name||t.id;n&&(e[n]=t.value)}return e}change(e){let t="";this.on("change",()=>{this.value===t||(t=this.value.trim(),e(t))})}validate(e){this.change(t=>this.setValidity(e(t)))}setValidity(e){this._el.setCustomValidity(e||"")}get isValid(){return this._el.checkValidity()}}class Fe extends ze{get $ownerSVG(){return ae(this._el.ownerSVGElement)||null}get width(){return this.bounds.width}get height(){return this.bounds.height}get viewBox(){return this._el.viewBox.baseVal||{}}get svgWidth(){return this.viewBox.width||this.width}get svgHeight(){return this.viewBox.height||this.height}get positionLeft(){if(this.$ownerSVG){const e=this._el.getBBox().x+this._el.getCTM().e;return this.$ownerSVG.positionLeft+e}return parseInt(this.css("margin-left"))+this.parent.positionLeft}get positionTop(){if(this.$ownerSVG){const e=this._el.getBBox().y+this._el.getCTM().f;return this.$ownerSVG.positionTop+e}return parseInt(this.css("margin-top"))+this.parent.positionTop}get inverseTransformMatrix(){const e=this._el.getScreenCTM().inverse(),t=[[e.a,e.c,e.e],[e.b,e.d,e.f]];if(xt.isFirefox){const e=this.transformMatrix;t[0][2]-=e[0][2],t[1][2]-=e[1][2]}return t}setTransform(e,t,n){void 0===t&&(t=0),void 0===n&&(n=1);const r=e?"translate("+A(e.x,.1)+" "+A(e.y,.1)+")":"",i=t?"rotate("+180*t/Math.PI+")":"",o=n?"scale("+n+")":"";this.setAttr("transform",[r,i,o].join(" "))}get strokeLength(){if("getTotalLength"in this._el)return this._el.getTotalLength();if(this._el instanceof SVGLineElement)return Math.sqrt(o(this._el.x2.baseVal.value-this._el.x1.baseVal.value)+o(this._el.y2.baseVal.value-this._el.y1.baseVal.value));else{const e=this.bounds;return 2*e.height+2*e.width}}getPointAt(e){const t=this._el.getPointAtLength(e*this.strokeLength);return new Ae(t.x,t.y)}get points(){const e=this.attr("d");return e?e.replace(/[MZ]/g,"").split(/[LA]/).map(e=>{const t=e.split(",");return new Ae(+t[t.length-2],+t[t.length-1])}):[]}set points(e){const t=e.length?"M"+e.map(e=>e.x+","+e.y).join("L"):"";this.setAttr("d",t)}addPoint(e){const t=this.attr("d")+" L "+e.x+","+e.y;this.setAttr("d",t)}get center(){return new Ae(+this.attr("cx"),+this.attr("cy"))}setCenter(e){this.setAttr("TEXT"===this.tagName?"x":"cx",e.x),this.setAttr("TEXT"===this.tagName?"y":"cy",e.y)}setLine(e,t){this.setAttr("x1",e.x),this.setAttr("y1",e.y),this.setAttr("x2",t.x),this.setAttr("y2",t.y)}setRect(e){this.setAttr("x",e.p.x),this.setAttr("y",e.p.y),this.setAttr("width",e.w),this.setAttr("height",e.h)}draw(e,t){void 0===t&&(t={});const r={mark:this.attr("mark"),arrows:this.attr("arrows"),size:+this.attr("size")||null,fill:this.hasClass("fill"),round:this.hasAttr("round")};this.setAttr("d",te(e,n(t,r)))}pngImage(e){void 0===e&&(e=null);const t=this.copy(!0,!0),n=e||this.svgWidth,r=e||this.svgHeight;t.setAttr("width",n),t.setAttr("height",r);const i=new XMLSerializer().serializeToString(t._el);let o="data:image/svg+xml;utf8,"+encodeURIComponent(i);o=o.replace("svg ","svg xmlns=\"http://www.w3.org/2000/svg\" ");const s=le("canvas",{width:n,height:r});return s.ctx.fillStyle="#fff",s.ctx.fillRect(0,0,n,r),new Promise(e=>{const t=new Image;t.onload=()=>{s.ctx.drawImage(t,0,0,n,r),e(s.pngImage)},t.src=o})}}class De extends ze{getContext(e,t){return void 0===e&&(e="2d"),void 0===t&&(t={}),this._el.getContext(e,t)}get pngImage(){return this._el.toDataURL("image/png")}get canvasWidth(){return this._el.width}get canvasHeight(){return this._el.height}get ctx(){return this._data.ctx||(this._data.ctx=this.getContext()),this._data.ctx}draw(e,t){this.ctx.save(),ne(this.ctx,e,t),this.ctx.restore()}clear(){this.ctx.clearRect(0,0,this.canvasWidth,this.canvasHeight)}}class Ge extends ze{play(){return this._el.play()||Promise.resolve()}pause(){this._el.pause()}}const Ke=["path","rect","circle","ellipse","polygon","polyline","g","defs","marker","line","text","pattern","mask","svg"],Ze=["form","input","select"],Ue=new je(window),Je=new je(window.document.documentElement),Qe=new je(document.body),et=new class{constructor(e){let t=void 0===e?{}:e,n=t.split,r=void 0===n?" ":n,i=t.lowercase;this._options={split:r,lowercase:void 0!==i&&i},this._events={}}on(t,n){for(let r of f(t,this._options))r in this._events||(this._events[r]=[]),this._events[r].push(n)}one(e,t){function n(){r.off(e,n),t(...arguments)}let r=this;this.on(e,n)}off(t,n){for(let r of f(t,this._options))r in this._events&&(this._events[r]=this._events[r].filter(e=>e!==n))}trigger(t){for(var n=arguments.length,r=Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(let n of f(t,this._options))n in this._events&&this._events[n].forEach(function(e){e.apply(this,r)})}},tt=window.navigator.userAgent.toLowerCase(),nt=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i;let rt=window.innerWidth,it=window.innerHeight;window.addEventListener("resize",()=>{const e=window.innerWidth,t=window.innerHeight;rt===e&&it===t||(rt=e,it=t,et.trigger("resize",{width:rt,height:it}),Qe.trigger("scroll",{top:Qe.scrollTop}))});const ot=l(function(){rt=window.innerWidth,it=window.innerHeight,et.trigger("resize",{width:rt,height:it})}),st=[];let at=!1;window.onload=ce,document.addEventListener("DOMContentLoaded",ce);const lt="_M",dt={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,pause:19,capslock:20,escape:27,space:32,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46},ct=/\bTrident\/[567]\b|\bMSIE (?:9|10)\.0\b/,pt=/\bAppleWebKit\/(\d+)\b/,ht=/\bEdge\/12\.(\d+)\b/,yt=ct.test(navigator.userAgent)||10547>(navigator.userAgent.match(ht)||[])[1]||537>(navigator.userAgent.match(pt)||[])[1],gt={},ut=!("hidden"in document)&&"webkitHidden"in document,ft=ut?"webkitHidden":"hidden",mt=ut?"webkitvisibilitychange":"visibilitychange";document.addEventListener(mt,function(){et.trigger(document[ft]?"focus":"blur")});const xt={isMobile:nt.test(tt),isRetina:1<(window.devicePixelRatio||1),isTouch:"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,isChrome:!!window.chrome,isFirefox:0<=tt.indexOf("firefox"),isAndroid:0<=tt.indexOf("android"),isIOS:/iphone|ipad|ipod/i.test(tt),isSafari:/^((?!chrome|android).)*safari/i.test(tt),redraw:function(){document.body.offsetHeight},ready:pe,resize:de,replaceSvgImports:function(){if(yt){const e=Array.from(document.querySelectorAll("svg > use"));e.forEach(function(e){const t=e.getAttribute("xlink:href"),n=t.split("#"),r=n[0],i=n[1];if(!r.length||!i)return;const o=e.parentNode;o.removeChild(e),r in gt||(gt[r]=fetch(r).then(e=>e.text()));const s=gt[r];s.then(function(e){const t=document.implementation.createHTMLDocument("");t.documentElement.innerHTML=e;const n=t.getElementById(i),r=n.cloneNode(!0),s=document.createDocumentFragment();for(;r.childNodes.length;)s.appendChild(r.firstChild);o.appendChild(s)})})}},on:et.on.bind(et),off:et.off.bind(et),trigger:et.trigger.bind(et),get width(){return rt},get height(){return it},get hash(){return window.location.hash.slice(1)},set hash(e){const t=document.body.scrollTop;window.location.hash=e,document.body.scrollTop=t},get cookies(){return he()},getCookie:function(e){const t=document.cookie.match(new RegExp("(^|;) ?"+e+"=([^;]*)(;|$)"));return t?t[2]:null},setCookie:ye,deleteCookie:function(e){ye(e,"",-1)},setStorage:ge,getStorage:ue,deleteStorage:function(e){e?ge(e,null):window.localStorage.setItem(lt,"")},get activeInput(){return fe()},onKey:function(t,n){t=m(t).map(e=>dt[e]||e),document.addEventListener("keydown",function(r){const e=fe();e&&e.is("input, textarea, [contenteditable]")||0<=t.indexOf(r.keyCode)&&n(r)})}};let _t=!1;setTimeout(function(){_t=!0});const vt="cubic-bezier(0.175, 0.885, 0.32, 1.275)",kt="cubic-bezier(0.68, -0.275, 0.825, 0.115)",bt=/matrix\([0-9.\-\s]+,[0-9.\-\s]+,[0-9.\-\s]+,[0-9.\-\s]+,([0-9.\-\s]+),([0-9.\-\s]+)\)/;"scrollRestoration"in history&&(history.scrollRestoration="manual");(function(){let t=!1;return"complete"===document.readyState?t=!0:window.addEventListener("load",function(){setTimeout(function(){t=!0})}),function(n){t&&n.state&&this.goToState(n.state)}})();Je.addClass((xt.isMobile?"is":"not")+"-mobile"),xt.replaceSvgImports(),xt.ready(function(){function e(e){for(let t of r)if(t[0]>e)return t}const t=ae(".api-body");if(!t)return;const n=ae(".sidebar-body"),r=[];let o;t.$$("h2, h3, h4").forEach((e,t)=>{const i=e.$("a").id;let s,a;e.is("h2")?(s=le("a",{href:"#"+i,html:e.text},n),o=a=le("div",{class:"hidden"},n)):(s=le("a",{href:"#"+i,html:i.replace("+","#").replace("module_","")},o),a=o),xt.resize(()=>r[t]=[e.positionTop,s,a])});let s,a;Qe.on("scroll",function(t){let n=t.top,r=e(n);r[1]!==s&&(s&&s.removeClass("active"),s=r[1],s.addClass("active")),r[2]!==a&&(a&&a.addClass("hidden"),a=r[2],a&&a.removeClass("hidden"))})})})();
